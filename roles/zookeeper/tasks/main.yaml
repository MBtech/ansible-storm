---
- name: Create Directory 
  file: path={{ base_path }}/zookeeper state=directory recurse=yes owner={{ user_name }}
  sudo: yes

- name: Download Zookeeper
  get_url: url=http://www-us.apache.org/dist/zookeeper/zookeeper-3.4.6/zookeeper-3.4.6.tar.gz dest={{ base_path }}/zookeeper

- name: Untar Zookeeper
  unarchive: src={{ base_path }}/zookeeper/zookeeper-3.4.6.tar.gz dest={{ base_path }}/zookeeper copy=no

- name: Copy config Zookeeper
  copy: src=zoo.cfg dest={{ base_path }}/zookeeper/zookeeper-3.4.6/conf/zoo.cfg

- name: Run Zookeeper
  command: "{{ base_path }}/zookeeper/zookeeper-3.4.6/bin/zkServer.sh start"
